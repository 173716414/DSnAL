## 状态模式  

#### 基本结构

状态模式（State Pattern）是⼀种⾏为型设计模式，它适⽤于⼀个对象在在不同的状态下有不同的⾏为时，⽐如说电灯的开、关、闪烁是不停的状态，状态不同时，对应的⾏为也不同，在没有状态模式的情况下，为了添加新的状态或修改现有的状态，往往需要修改已有的代码，这违背了开闭原则，⽽且如果对象的状态切换逻辑和各个状态的⾏为都在同⼀个类中实现，就可能导致该类的职责过重，不符合单⼀职责原则。

⽽状态模式将每个状态的⾏为封装在⼀个具体状态类中，使得每个状态类相对独⽴，并将对象在不同状态下的⾏为进⾏委托，从⽽使得对象的状态可以在运⾏时动态改变，每个状态的实现也不会影响其他状态。

#### 基本结构

状态模式包括以下⼏个重要⻆⾊：

- State （状态）： 定义⼀个接⼝，⽤于封装与Context的⼀个特定状态相关的⾏为。
- ConcreteState （具体状态）： 负责处理Context在状态改变时的⾏为, 每⼀个具体状态⼦类实现⼀个与 Context 的⼀个状态相关的⾏为。
- Context （上下⽂） : 维护⼀个具体状态⼦类的实例，这个实例定义当前的状态。

#### 使⽤场景

状态模式将每个状态的实现都封装在⼀个类中，每个状态类的实现相对独⽴，使得添加新状态或修改现有状态变得更加容易，避免了使⽤⼤量的条件语句来控制对象的⾏为。但是如果状态过多，会导致类的数量增加，可能会使得代码结构复杂。

总的来说，状态模式适⽤于有限状态机的场景，其中对象的⾏为在运⾏时可以根据内部状态的改变⽽改变，在游戏开发中， Unity3D 的 Animator 控制器就是⼀个状态机。它允许开发⼈员定义不同的状态（动画状态），并通过状态转换来实现⻆⾊的动画控制和⾏为切换。